<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NVC要素 - 非暴力沟通卡片系统</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- 自定义CSS -->
    <link rel="stylesheet" href="../assets/css/styles.css">
    <!-- 新增：动画效果CSS -->
    <link rel="stylesheet" href="../assets/css/animations.css">
    <!-- FontAwesome图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <i class="fas fa-comments me-2"></i>非暴力沟通卡片系统
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">首页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="./elements.html">NVC要素</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./cases.html">案例卡片</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./practice.html">练习</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./chat-history.html">历史记录</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./ai-assistant.html">AI助手</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 页面头部 -->
    <header class="bg-light py-5 hero-background bg-glow">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 fade-in-up">
                    <h1 class="fw-bold text-gradient">非暴力沟通四要素</h1>
                    <p class="lead text-secondary">
                        非暴力沟通(NVC)是一种有效的沟通模式，由马歇尔·卢森堡博士创立。它强调共情和诚实的表达，由四个核心要素组成。
                    </p>
                </div>
                <div class="col-lg-6 fade-in-up fade-in-up-delay-1">
                    <div class="d-flex justify-content-center">
                        <div class="position-relative pulse-glow" style="width: 300px; height: 300px;">
                            <!-- NVC四要素循环图 - 按照图片重新排布 -->
                            <svg width="300" height="300" viewBox="0 0 300 300">
                                <!-- 外圆 -->
                                <circle cx="150" cy="150" r="145" fill="none" stroke="#e0e0e0" stroke-width="2"></circle>
                                
                                <!-- 四个部分 - 重新布局为四等分圆 -->
                                <!-- 上部（观察）- 蓝色 -->
                                <path d="M150,5 A145,145 0 0,1 295,150 L150,150 Z" fill="#e8f0ff" stroke="#4b6fd8" stroke-width="2" class="nvc-element-pulse"></path>
                                <!-- 右部（感受）- 绿色 -->
                                <path d="M295,150 A145,145 0 0,1 150,295 L150,150 Z" fill="#e9ffef" stroke="#28a745" stroke-width="2" class="nvc-element-pulse nvc-element-pulse-delay-1"></path>
                                <!-- 下部（需要）- 红色 -->
                                <path d="M150,295 A145,145 0 0,1 5,150 L150,150 Z" fill="#ffebe6" stroke="#dc3545" stroke-width="2" class="nvc-element-pulse nvc-element-pulse-delay-2"></path>
                                <!-- 左部（请求）- 黄色 -->
                                <path d="M5,150 A145,145 0 0,1 150,5 L150,150 Z" fill="#fff8e1" stroke="#ffc107" stroke-width="2" class="nvc-element-pulse nvc-element-pulse-delay-3"></path>
                                
                                <!-- 中心圆 -->
                                <circle cx="150" cy="150" r="50" fill="white" stroke="#e0e0e0" stroke-width="2"></circle>
                                <text x="150" y="155" text-anchor="middle" font-size="16" font-weight="bold">非暴力沟通</text>
                                
                                <!-- 四个要素文字和图标 - 调整位置以匹配图片 -->
                                <!-- 观察（上） -->
                                <g transform="translate(150, 80)">
                                    <text x="0" y="-15" text-anchor="middle" font-size="18" font-weight="bold" fill="#4b6fd8">观察</text>
                                    <g transform="translate(0, 0)">
                                        <circle cx="0" cy="0" r="15" fill="#4b6fd8" fill-opacity="0.2"></circle>
                                        <text x="0" y="5" text-anchor="middle" font-family="FontAwesome" font-size="14" fill="#4b6fd8">&#xf06e;</text>
                                    </g>
                                </g>
                                
                                <!-- 感受（右） -->
                                <g transform="translate(220, 150)">
                                    <text x="15" y="0" text-anchor="start" font-size="18" font-weight="bold" fill="#28a745">感受</text>
                                    <g transform="translate(0, 0)">
                                        <circle cx="0" cy="0" r="15" fill="#28a745" fill-opacity="0.2"></circle>
                                        <text x="0" y="5" text-anchor="middle" font-family="FontAwesome" font-size="14" fill="#28a745">&#xf004;</text>
                                    </g>
                                </g>
                                
                                <!-- 需要（下） -->
                                <g transform="translate(150, 220)">
                                    <text x="0" y="25" text-anchor="middle" font-size="18" font-weight="bold" fill="#dc3545">需要</text>
                                    <g transform="translate(0, 0)">
                                        <circle cx="0" cy="0" r="15" fill="#dc3545" fill-opacity="0.2"></circle>
                                        <text x="0" y="5" text-anchor="middle" font-family="FontAwesome" font-size="14" fill="#dc3545">&#xf06c;</text>
                                    </g>
                                </g>
                                
                                <!-- 请求（左） -->
                                <g transform="translate(80, 150)">
                                    <text x="-15" y="0" text-anchor="end" font-size="18" font-weight="bold" fill="#ffc107">请求</text>
                                    <g transform="translate(0, 0)">
                                        <circle cx="0" cy="0" r="15" fill="#ffc107" fill-opacity="0.2"></circle>
                                        <text x="0" y="5" text-anchor="middle" font-family="FontAwesome" font-size="14" fill="#ffc107">&#xf4ad;</text>
                                    </g>
                                </g>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- 主要内容 -->
    <div class="container py-5">
        <div class="row mb-4">
            <div class="col text-center fade-in-up">
                <p class="lead">
                    点击下面的卡片，了解每个要素的详细内容和使用方法。
                </p>
            </div>
        </div>

        <!-- 四要素卡片 -->
        <div class="row g-4">
            <!-- 观察卡片 -->
            <div class="col-md-6 fade-in-up fade-in-up-delay-1">
                <div class="card h-100 element-card cursor-pointer glow-card gradient-border">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="icon-wrapper me-3 pulse-glow" style="background-color: rgba(75, 111, 216, 0.1);">
                                <i class="fas fa-eye fa-2x" style="color: #4b6fd8"></i>
                            </div>
                            <h3 class="card-title mb-0" style="color: #4b6fd8">观察</h3>
                        </div>
                        <p class="card-text mb-3">
                            客观地描述你所看到、听到或回忆的事实，不带评判、解释或推测。
                        </p>
                        <div class="text-center mt-3">
                            <button class="btn btn-outline-primary view-details-btn" style="color: #4b6fd8; border: 1px solid #4b6fd8;">
                                <i class="fas fa-info-circle me-1"></i> 点击查看详情
                            </button>
                        </div>
                        <div class="element-details d-none mt-4">
                            <hr>
                            <h5 style="color: #4b6fd8">什么是观察？</h5>
                            <p>
                                观察是指客观地描述发生了什么，就像摄像机记录的画面一样。观察是对事实的陈述，而非对事实的评价或解释。
                            </p>
                            <h5 style="color: #4b6fd8">观察的原则</h5>
                            <ul>
                                <li>描述具体的行为和事件，而非泛泛的评价</li>
                                <li>避免使用"总是"、"从不"等概括性词语</li>
                                <li>区分观察与评价、解释或判断</li>
                                <li>聚焦于当下或特定情境，而非过度概括</li>
                            </ul>
                            <h5 style="color: #4b6fd8">示例</h5>
                            <div class="row">
                                <div class="col-6">
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-success fw-bold">✓ 观察</small>
                                        <p class="mb-0 small">"昨天你迟到了30分钟。"</p>
                                    </div>
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-success fw-bold">✓ 观察</small>
                                        <p class="mb-0 small">"我看到桌子上有三个脏盘子。"</p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-danger fw-bold">✗ 评判</small>
                                        <p class="mb-0 small">"你总是迟到，太不靠谱了。"</p>
                                    </div>
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-danger fw-bold">✗ 评判</small>
                                        <p class="mb-0 small">"你从不打扫，房间乱糟糟的。"</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <button class="btn btn-sm btn-light close-details-btn" style="color: #4b6fd8; border: 1px solid #4b6fd8;">
                                    <i class="fas fa-times-circle me-1"></i> 关闭详情
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 感受卡片 -->
            <div class="col-md-6 fade-in-up fade-in-up-delay-2">
                <div class="card h-100 element-card cursor-pointer glow-card gradient-border">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="icon-wrapper me-3 pulse-glow" style="background-color: rgba(40, 167, 69, 0.1);">
                                <i class="fas fa-heart fa-2x" style="color: #28a745"></i>
                            </div>
                            <h3 class="card-title mb-0" style="color: #28a745">感受</h3>
                        </div>
                        <p class="card-text mb-3">
                            表达你的情感体验和情绪状态，而不是想法、评价或解释。
                        </p>
                        <div class="text-center mt-3">
                            <button class="btn btn-outline-success view-details-btn" style="color: #28a745; border: 1px solid #28a745;">
                                <i class="fas fa-info-circle me-1"></i> 点击查看详情
                            </button>
                        </div>
                        <div class="element-details d-none mt-4">
                            <hr>
                            <h5 style="color: #28a745">什么是感受？</h5>
                            <p>
                                感受是指我们的情绪状态和身体感觉，它们是我们内在需要得到满足或未得到满足时的反应。感受与想法或评价不同，它们直接关联到我们的内在体验。
                            </p>
                            <h5 style="color: #28a745">表达感受的原则</h5>
                            <ul>
                                <li>使用具体的情感词汇，而非模糊的表达</li>
                                <li>区分感受和想法（"我感到失望"vs"我觉得你不重视我"）</li>
                                <li>承担对自己情感的责任，而非归咎于他人</li>
                                <li>认识到感受源自我们的需要，而非他人的行为</li>
                            </ul>
                            <h5 style="color: #28a745">常见的感受词汇</h5>
                            <div class="row">
                                <div class="col-6">
                                    <p class="fw-bold mb-1">需要得到满足时：</p>
                                    <ul class="small">
                                        <li>快乐、喜悦、满足</li>
                                        <li>平静、安心、放松</li>
                                        <li>感激、感动、温暖</li>
                                        <li>兴奋、充满活力、振奋</li>
                                        <li>充满希望、乐观、信任</li>
                                    </ul>
                                </div>
                                <div class="col-6">
                                    <p class="fw-bold mb-1">需要未得到满足时：</p>
                                    <ul class="small">
                                        <li>悲伤、失望、沮丧</li>
                                        <li>焦虑、担忧、不安</li>
                                        <li>愤怒、恼火、烦躁</li>
                                        <li>疲惫、无力、困惑</li>
                                        <li>孤独、怀念、思念</li>
                                    </ul>
                                </div>
                            </div>
                            <h5 style="color: #28a745">示例</h5>
                            <div class="row">
                                <div class="col-6">
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-success fw-bold">✓ 感受</small>
                                        <p class="mb-0 small">"我感到失望和沮丧。"</p>
                                    </div>
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-success fw-bold">✓ 感受</small>
                                        <p class="mb-0 small">"我现在很焦虑和担心。"</p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-danger fw-bold">✗ 想法</small>
                                        <p class="mb-0 small">"我觉得你不尊重我。"</p>
                                    </div>
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-danger fw-bold">✗ 想法</small>
                                        <p class="mb-0 small">"我感觉被忽视了。"</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <button class="btn btn-sm btn-light close-details-btn" style="color: #28a745; border: 1px solid #28a745;">
                                    <i class="fas fa-times-circle me-1"></i> 关闭详情
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 需要卡片 -->
            <div class="col-md-6 fade-in-up fade-in-up-delay-3">
                <div class="card h-100 element-card cursor-pointer glow-card gradient-border">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="icon-wrapper me-3 pulse-glow" style="background-color: rgba(220, 53, 69, 0.1);">
                                <i class="fas fa-seedling fa-2x" style="color: #dc3545"></i>
                            </div>
                            <h3 class="card-title mb-0" style="color: #dc3545">需要</h3>
                        </div>
                        <p class="card-text mb-3">
                            识别并表达引发你情感的内在需要、价值和渴望。
                        </p>
                        <div class="text-center mt-3">
                            <button class="btn btn-outline-danger view-details-btn" style="color: #dc3545; border: 1px solid #dc3545;">
                                <i class="fas fa-info-circle me-1"></i> 点击查看详情
                            </button>
                        </div>
                        <div class="element-details d-none mt-4">
                            <hr>
                            <h5 style="color: #dc3545">什么是需要？</h5>
                            <p>
                                需要是所有人共有的，对于生存和幸福至关重要的普遍价值和渴望。在非暴力沟通中，我们认为所有人的行为都是试图满足某种需要。需要与具体的行动策略不同，需要是普遍的，而策略是具体的。
                            </p>
                            <h5 style="color: #dc3545">表达需要的原则</h5>
                            <ul>
                                <li>区分需要（普遍的）和策略（特定的满足方式）</li>
                                <li>表达需要时不涉及特定人物或行为</li>
                                <li>承认所有人都有相同的基本需要</li>
                                <li>理解我们的感受源于我们的需要是否得到满足</li>
                            </ul>
                            <h5 style="color: #dc3545">常见的人类基本需要</h5>
                            <div class="row">
                                <div class="col-6">
                                    <ul class="small">
                                        <li>连接、理解、信任</li>
                                        <li>安全、保障、稳定</li>
                                        <li>尊重、认可、欣赏</li>
                                        <li>自主、选择、自由</li>
                                        <li>意义、目的、贡献</li>
                                    </ul>
                                </div>
                                <div class="col-6">
                                    <ul class="small">
                                        <li>诚实、真实、透明</li>
                                        <li>成长、学习、发展</li>
                                        <li>支持、合作、互助</li>
                                        <li>休息、放松、娱乐</li>
                                        <li>和谐、秩序、美</li>
                                    </ul>
                                </div>
                            </div>
                            <h5 style="color: #dc3545">示例</h5>
                            <div class="row">
                                <div class="col-6">
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-success fw-bold">✓ 需要</small>
                                        <p class="mb-0 small">"我需要被理解和尊重。"</p>
                                    </div>
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-success fw-bold">✓ 需要</small>
                                        <p class="mb-0 small">"我渴望信任和安全感。"</p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-danger fw-bold">✗ 策略</small>
                                        <p class="mb-0 small">"我需要你给我发信息。"</p>
                                    </div>
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-danger fw-bold">✗ 策略</small>
                                        <p class="mb-0 small">"我需要你改变态度。"</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <button class="btn btn-sm btn-light close-details-btn" style="color: #dc3545; border: 1px solid #dc3545;">
                                    <i class="fas fa-times-circle me-1"></i> 关闭详情
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 请求卡片 -->
            <div class="col-md-6 fade-in-up fade-in-up-delay-4">
                <div class="card h-100 element-card cursor-pointer glow-card gradient-border">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="icon-wrapper me-3 pulse-glow" style="background-color: rgba(255, 193, 7, 0.1);">
                                <i class="fas fa-comment fa-2x" style="color: #ffc107"></i>
                            </div>
                            <h3 class="card-title mb-0" style="color: #ffc107">请求</h3>
                        </div>
                        <p class="card-text mb-3">
                            明确、具体地表达你希望对方做什么，而非不要做什么。
                        </p>
                        <div class="text-center mt-3">
                            <button class="btn btn-outline-warning view-details-btn" style="color: #ffc107; border: 1px solid #ffc107;">
                                <i class="fas fa-info-circle me-1"></i> 点击查看详情
                            </button>
                        </div>
                        <div class="element-details d-none mt-4">
                            <hr>
                            <h5 style="color: #ffc107">什么是请求？</h5>
                            <p>
                                请求是我们为了满足需要而向他人提出的具体、积极、可行的行动期望。有效的请求清晰地表达我们希望对方做什么，而不是不要做什么。请求与要求不同，请求尊重对方说"不"的权利。
                            </p>
                            <h5 style="color: #ffc107">提出请求的原则</h5>
                            <ul>
                                <li>使用具体、明确、肯定的语言（说明你想要什么，而非你不想要什么）</li>
                                <li>请求应当是当下可以实现的具体行动</li>
                                <li>区分请求和要求（请求接受对方说"不"）</li>
                                <li>检查对方是否正确理解了你的请求</li>
                            </ul>
                            <h5 style="color: #ffc107">请求的类型</h5>
                            <ul class="small">
                                <li><strong>行动请求：</strong>请求对方采取特定行动</li>
                                <li><strong>连接请求：</strong>请求对方表达他们的感受、想法或反应</li>
                                <li><strong>澄清请求：</strong>请求对方重复或解释他们所说的内容</li>
                                <li><strong>诚实请求：</strong>请求对方分享他们的真实感受和想法</li>
                            </ul>
                            <h5 style="color: #ffc107">示例</h5>
                            <div class="row">
                                <div class="col-6">
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-success fw-bold">✓ 请求</small>
                                        <p class="mb-0 small">"你能告诉我你现在的感受吗？"</p>
                                    </div>
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-success fw-bold">✓ 请求</small>
                                        <p class="mb-0 small">"我想知道你对这个方案的看法。"</p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-danger fw-bold">✗ 要求</small>
                                        <p class="mb-0 small">"你必须现在回复我。"</p>
                                    </div>
                                    <div class="p-2 bg-light rounded mb-2 glow-hover">
                                        <small class="text-danger fw-bold">✗ 模糊</small>
                                        <p class="mb-0 small">"你能不能重视一点？"</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <button class="btn btn-sm btn-light close-details-btn" style="color: #ffc107; border: 1px solid #ffc107;">
                                    <i class="fas fa-times-circle me-1"></i> 关闭详情
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 练习引导 -->
        <div class="row mt-5">
            <div class="col-12 fade-in-up">
                <div class="bg-light p-4 rounded-3 text-center bg-glow">
                    <h3 class="mb-3 text-gradient">准备好实践了吗？</h3>
                    <p class="mb-4">尝试运用这四个要素来表达自己，并获取个性化反馈。</p>
                    <a href="./practice.html" class="btn btn-primary btn-lg submit-button-glow">
                        <i class="fas fa-pencil-alt me-2"></i>开始练习
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="bg-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <p>© <span id="currentYear">2025</span> 非暴力沟通卡片系统</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-decoration-none text-muted me-3">关于我们</a>
                    <a href="#" class="text-decoration-none text-muted me-3">使用条款</a>
                    <a href="#" class="text-decoration-none text-muted">隐私政策</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- 添加署名 -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 5;">
        <p class="small text-muted mb-0" style="font-size: 0.85rem; opacity: 0.8;">Made by 问问大象主题学习</p>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 自定义JS -->
    <script src="../assets/js/auth.js"></script>
    <script>
        // 跳转到登录页面，带上当前页面作为回调
        window.navigateToLogin = function() {
            const currentPath = window.location.pathname;
            const loginUrl = './login.html?callback=' + encodeURIComponent(currentPath);
            window.location.href = loginUrl;
        };
    </script>
    <script src="../assets/js/main.js"></script>

    <!-- 添加卡片交互和动画效果 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化光影动画效果
            initGradientAnimations();
            
            // 卡片点击展开详情
            const elementCards = document.querySelectorAll('.element-card');
            elementCards.forEach(card => {
                // 移除卡片的直接点击事件，现在只通过按钮来控制
                // 我们不希望点击卡片任意位置触发展开/关闭
            });

            // 为"点击查看详情"按钮添加点击事件
            document.querySelectorAll('.view-details-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation(); // 阻止事件冒泡
                    const card = this.closest('.element-card');
                    openCardDetails(card);
                });
            });

            // 为"关闭详情"按钮添加点击事件
            document.querySelectorAll('.close-details-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation(); // 阻止事件冒泡
                    const card = this.closest('.element-card');
                    closeCardDetails(card);
                });
            });
            
            // 打开卡片详情的函数
            function openCardDetails(card) {
                const details = card.querySelector('.element-details');
                const viewBtn = card.querySelector('.view-details-btn');
                
                if (details.classList.contains('d-none')) {
                    // 打开当前卡片详情
                    details.classList.remove('d-none');
                    
                    // 隐藏查看按钮
                    if (viewBtn) {
                        viewBtn.style.display = 'none';
                    }
                    
                    // 添加视觉反馈效果
                    card.classList.add('border-primary');
                    card.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    
                    // 添加淡入动画
                    details.style.opacity = '0';
                    setTimeout(() => {
                        details.style.transition = 'opacity 0.3s ease-in-out';
                        details.style.opacity = '1';
                    }, 10);
                }
            }
            
            // 关闭卡片详情的函数
            function closeCardDetails(card) {
                const details = card.querySelector('.element-details');
                const viewBtn = card.querySelector('.view-details-btn');
                
                if (!details.classList.contains('d-none')) {
                    // 关闭当前卡片详情，添加淡出效果
                    details.style.opacity = '0';
                    setTimeout(() => {
                        details.classList.add('d-none');
                        
                        // 显示查看按钮
                        if (viewBtn) {
                            viewBtn.style.display = 'inline-block';
                        }
                        
                        // 移除选中效果
                        card.classList.remove('border-primary');
                    }, 300);
                }
            }
            
            // 初始化渐变背景动画
            function initGradientAnimations() {
                const glowElements = document.querySelectorAll('.bg-glow');
                glowElements.forEach(elem => {
                    setInterval(() => {
                        const hue = Math.floor(Math.random() * 30) + 190; // 蓝色到紫色范围
                        elem.style.setProperty('--glow-hue', `${hue}deg`);
                    }, 3000);
                });
            }
            
            // 初始化滚动动画
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.fade-in-up').forEach(elem => {
                observer.observe(elem);
            });
        });
    </script>

    <!-- 添加自定义样式 -->
    <style>
        .element-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            cursor: default; /* 修改为默认光标，因为我们不再点击卡片 */
            margin-bottom: 20px; /* 增加卡片间距，防止内容展开后相互重叠 */
            border-radius: 12px;
            overflow: hidden; /* 确保圆角内的内容不会溢出 */
        }
        
        .element-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .element-card.border-primary {
            border-width: 2px !important;
        }
        
        .element-details {
            transition: opacity 0.3s ease-in-out;
            padding-top: 10px;
            margin-top: 10px;
            border-top: 1px solid rgba(0,0,0,0.1);
            background-color: rgba(255,255,255,0.8);
            border-radius: 0 0 12px 12px;
        }
        
        .view-details-btn {
            transition: all 0.3s ease;
            border-radius: 30px;
            font-weight: 500;
            padding: 8px 16px;
            min-width: 150px;
            box-shadow: 0 3px 5px rgba(0,0,0,0.05);
        }
        
        .view-details-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 12px rgba(0,0,0,0.1);
        }
        
        .close-details-btn {
            transition: all 0.3s ease;
            border-radius: 30px;
            font-weight: 500;
            min-width: 120px;
        }
        
        .close-details-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        
        .icon-wrapper {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }
        
        .element-card:hover .icon-wrapper {
            transform: scale(1.1);
        }

        /* 当卡片展开时添加一些额外的样式 */
        .element-card.border-primary {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* 让卡片内容区域更加突出 */
        .element-details hr {
            border-color: rgba(0,0,0,0.1);
            margin: 15px 0;
        }

        /* 优化示例区域的样式 */
        .element-details .bg-light {
            border-radius: 8px;
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        /* 响应式调整 */
        @media (max-width: 768px) {
            .view-details-btn, .close-details-btn {
                width: 100%;
                min-width: auto;
            }
            
            .element-details .row .col-6 {
                width: 100%;
                margin-bottom: 10px;
            }
        }
    </style>
</body>
</html> 